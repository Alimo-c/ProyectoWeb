(this.webpackJsonpreactlogin=this.webpackJsonpreactlogin||[]).push([[0],{118:function(e,t,r){},125:function(e,t){},129:function(e,t){},148:function(e,t){},717:function(e,t,r){},718:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(112),o=r.n(c),s=(r(118),r(2)),u=r.n(s),i=r(5),l=r(4),p=r(6),b=(r.p,r(113)),d=r(15),f="https://posts-pw2021.herokuapp.com/api/v1",x={};x.login=function(){var e=Object(i.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/auth/signin"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:t,password:r})});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x.verifyToken=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/auth/whoami"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x.getAllPost=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n,a,c,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:10,n=o.length>2&&void 0!==o[2]?o[2]:0,e.next=4,fetch("".concat(f,"/post/all?limit=").concat(r,"&page=").concat(n),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 4:if(!(a=e.sent).ok){e.next=10;break}return e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x.getAllFav=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/fav"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(r=e.sent).ok){e.next=8;break}return e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x.getMyPost=function(){var e=Object(i.a)(u.a.mark((function e(t){var r,n,a,c,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:15,n=o.length>2&&void 0!==o[2]?o[2]:0,e.next=4,fetch("".concat(f,"/post/owned?limit=").concat(r,"&page=").concat(n),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 4:if(!(a=e.sent).ok){e.next=10;break}return e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x.createPost=function(){var e=Object(i.a)(u.a.mark((function e(t,r,n,a){var c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/create"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:r,description:n,image:a})});case 2:return c=e.sent,e.next=5,c.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),x.editPost=function(){var e=Object(i.a)(u.a.mark((function e(t,r,n,a,c){var o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/update/").concat(c),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({title:r,description:n,image:a})});case 2:return o=e.sent,e.next=5,o.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),x.giveAlike=function(){var e=Object(i.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("token:"),console.log(t),console.log(r),e.next=5,fetch("".concat(f,"/post/like/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 5:if(n=e.sent,console.log("prueba2"),!n.ok){e.next=13;break}return console.log("prueba"),e.next=11,n.json();case 11:return a=e.sent,e.abrupt("return",a);case 13:return e.abrupt("return",{});case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x.getOne=function(){var e=Object(i.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/one/").concat(r),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x.giveFav=function(){var e=Object(i.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/fav/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x.addComment=function(){var e=Object(i.a)(u.a.mark((function e(t,r,n){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"/post/comment/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"},body:JSON.stringify({description:n})});case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),x.active=function(){var e=Object(i.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("antes de servicios"),e.next=3,fetch("".concat(f,"/post/toggle/").concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});case 3:if(n=e.sent,console.log("despues de servicios"),!n.ok){e.next=10;break}return e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var j=x,m=r(0),h=a.a.createContext(),g="token",v=function(){return localStorage.getItem(g)},O=function(e){var t=Object(n.useState)(void 0),r=Object(l.a)(t,2),a=r[0],c=r[1],o=Object(n.useState)(void 0),s=Object(l.a)(o,2),p=s[0],f=s[1];Object(n.useEffect)((function(){var e=function(){var e=Object(i.a)(u.a.mark((function e(){var t,r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=v())){e.next=9;break}return e.next=4,j.verifyToken(t);case 4:r=e.sent,n=r.username,a=r.role,n&&a&&(f({username:n,role:a}),x(t));case 9:case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var x=function(e){localStorage.setItem(g,e),c(e)},O=Object(n.useCallback)((function(e,t){var r=function(){var r=Object(i.a)(u.a.mark((function r(){var n,a,c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,r.prev=1,r.next=4,j.login(e,t);case 4:a=r.sent,(c=a.token)&&(x(c),n=!0),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(1),console.error(r.t0),console.error("Error in login");case 14:return r.prev=14,r.abrupt("return",n);case 17:case"end":return r.stop()}}),r,null,[[1,10,14,17]])})));return function(){return r.apply(this,arguments)}}();return r()}),[]),y=Object(n.useCallback)((function(){f(void 0),x(void 0)}),[]),k=Object(n.useCallback)((function(e,t,r){var n=!1,a=function(){var a=Object(i.a)(u.a.mark((function a(){var c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.createPost(v(),e,t,r);case 3:c=a.sent,c.message&&(n=!0),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0),console.log("Error in post");case 13:return a.prev=13,a.abrupt("return",n);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})));return function(){return a.apply(this,arguments)}}();return a()}),[]),w=Object(n.useCallback)((function(e,t,r,n){var a=!1,c=function(){var c=Object(i.a)(u.a.mark((function c(){var o;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,j.editPost(v(),e,t,r,n);case 3:o=c.sent,o.message&&(a=!0),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),console.error(c.t0),console.log("Error in edit");case 13:return c.prev=13,c.abrupt("return",a);case 16:case"end":return c.stop()}}),c,null,[[0,9,13,16]])})));return function(){return c.apply(this,arguments)}}();return c()}),[]),N=Object(n.useCallback)((function(e,t){var r=function(){var r=Object(i.a)(u.a.mark((function r(){var n,a,c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,j.getAllPost(v(),e,t);case 3:if(n=r.sent,a=n.data,c=n.pages,!a){r.next=8;break}return r.abrupt("return",{data:a,pages:c});case 8:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),console.log("data undefined"),r.abrupt("return",d.data);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(){return r.apply(this,arguments)}}();return r()}),[]),S=Object(n.useCallback)((function(e,t){var r=function(){var r=Object(i.a)(u.a.mark((function r(){var n,a,c;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,j.getMyPost(v(),e,t);case 3:if(n=r.sent,a=n.data,c=n.pages,!a){r.next=8;break}return r.abrupt("return",{data:a,pages:c});case 8:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),console.log("data undefined"),r.abrupt("return",d.data);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(){return r.apply(this,arguments)}}();return r()}),[]),C=function(){var e=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.getAllFav(v());case 3:if(!(t=e.sent)){e.next=7;break}return console.log(t),e.abrupt("return",t);case 7:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log("data undefined"),e.abrupt("return",d.data);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return e()},P=function(e){var t=function(){var t=Object(i.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.getOne(v(),e);case 3:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",r);case 6:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("post notfound");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return t()},A=function(e){var t=function(){var t=Object(i.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.giveAlike(v(),e);case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),console.log("Error in post");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return t()},E=function(e){var t=function(){var t=Object(i.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.giveFav(v(),e);case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),console.log("Error in post");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return t()},T=Object(n.useCallback)((function(e,t){var r=function(){var r=Object(i.a)(u.a.mark((function r(){var n;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,j.addComment(v(),e,t);case 3:if(!(n=r.sent).ok){r.next=6;break}return r.abrupt("return",n);case 6:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),console.log("data undefined"),r.abrupt("return",d.data);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();return r()}),[]),B=function(e){var t=function(){var t=Object(i.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("antes de context try"),t.prev=1,console.log("antes de context en try"),t.next=5,j.active(v(),e);case 5:if(r=t.sent,console.log(r),!r.ok){t.next=9;break}return t.abrupt("return",r);case 9:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),console.log("data undefined"),t.abrupt("return",d.data);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}();return t()},z=Object(n.useMemo)((function(){return{token:a,user:p,login:O,logout:y,posts:k,edits:w,myPost:S,allPost:N,allFav:C,One:P,like:A,favorite:E,comment:T,activeApost:B}}),[a,p,O,y,k,w,S,N,C,P,A,E,T,B]);return Object(m.jsx)(h.Provider,Object(b.a)({value:z},e))},y=function(){var e=a.a.useContext(h);if(!e)throw new Error("useUserContext() must be inside of UserProvider");return e};function k(){var e=y(),t=e.login,r=e.token,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],s=c[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),f=d[0],x=d[1],j=Object(n.useState)(!1),h=Object(l.a)(j,2),g=h[0],v=h[1],O=function(e,t){t(e.target.value)},k=function(){var e=Object(i.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t(o,f);case 3:n=e.sent,v(!n),s(""),x("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r?(console.log("Ya se loggea"),Object(m.jsx)(p.a,{replace:!0,to:"/redirect"})):Object(m.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-hero-pattern bg-no-repeat bg-cover",children:Object(m.jsx)("main",{className:"w-3/5 h-3/5 max-w-xl bg-gray-100 bg-opacity-75 rounded-md p-8 md:p-10 shadow-md",children:Object(m.jsxs)("form",{onSubmit:k,className:"flex flex-col gap-4 items-center justify-center",children:[Object(m.jsx)("h2",{className:"text-black font-monserrat font-black text-5xl mb-1",children:"Inicio de sesi\xf3n"}),Object(m.jsx)("h3",{className:"text-black font-monserrattext-2xl mb-6",children:"comparte tus mejores momentos"}),g&&Object(m.jsx)("p",{className:"w-full rounded p-3 text-center text-white font-roboto bg-red-700 select-none",children:"Un error ha ocurrido en el inicio de sesi\xf3n"}),Object(m.jsx)("input",{className:"font-medium w-full text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded mb-2",type:"text",value:o,placeholder:"e.g. username",onChange:function(e){return O(e,s)}}),Object(m.jsx)("input",{className:"font-medium w-full text-gray-700 focus:outline-none focus:ring focus:border-gray-700 p-2 rounded mb-2",type:"password",placeholder:"e.g password",onChange:function(e){return O(e,x)},value:f}),Object(m.jsx)("button",{className:"mt-6 w-full transition rounded border border-primary duration-300 ease-in-out text-xl text-extrabold uppercase bg-primary hover:bg-primary-dark py-2 px-4 text-gray-100",children:"Sign In "})]})})})}function w(e){var t=e.src,r=e.title,n=e.description;return Object(m.jsxs)("article",{className:"flex flex-col gap-2 items-center justify-center",children:[Object(m.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(m.jsx)("img",{className:"w-4/5",src:t,alt:"objetive"})}),Object(m.jsx)("h3",{className:"text-lg font-extrabold text-gray-800",children:r}),Object(m.jsx)("p",{className:"text-base font-light text-gray-600 text-justify",children:n})]})}function N(){return Object(m.jsxs)("section",{className:"flex gap-2 items-center justify-center w-4/5",children:[Object(m.jsx)(w,{src:"https://media.discordapp.net/attachments/898423740273131570/909546597061378048/Team_meeting_Monochromatic.png",title:"Trabajo en equipo",description:"A trabajar con otras personas de manera productiva"}),Object(m.jsx)(w,{src:"https://media.discordapp.net/attachments/898423740273131570/909546589536780358/Designer__Isometric.png",title:"Dise\xf1o",description:"Creacion de maquetas para diferentes sitios web"}),Object(m.jsx)(w,{src:"https://media.discordapp.net/attachments/898423740273131570/909546597455646801/Progress__Outline.png",title:"Programaci\xf3n de p\xe1ginas",description:"A programar desde 0 paginas usando tecnologias web"})]})}function S(){return Object(m.jsxs)("section",{className:"w-full flex flex-col gap-4 items-center justify-center",children:[Object(m.jsx)("h2",{className:"text-2xl text-gray-600 font-semibold my-3",children:"Programacion web es una materia enfocada en "}),Object(m.jsx)(N,{})]})}var C=function(){var e=y().logout,t=Object(p.g)();return Object(m.jsx)("button",{onClick:function(){e(),t("/login")},className:" m-4 transition rounded border border-primary duration-300 ease-in-out text-sm text-extrabold uppercase bg-primary hover:bg-primary-dark py-2 px-4 text-gray-100",children:"Log out"})},P=function(e){var t=e.name,r=y().posts,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],s=c[1],p=Object(n.useState)(""),b=Object(l.a)(p,2),d=b[0],f=b[1],x=Object(n.useState)(""),j=Object(l.a)(x,2),h=j[0],g=j[1],v=Object(n.useState)(!1),O=Object(l.a)(v,2),k=O[0],w=O[1],N=function(e,t){t(e.target.value)},S=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(o),console.log(d),console.log(h),e.next=6,r(o,d,h);case 6:n=e.sent,w(!n),s(""),f(""),g("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:S,className:"flex flex-col rounded gap-y-5 p-10 w-3/5 bg-secondary shadow-lg",children:[Object(m.jsx)("h2",{className:"text-black font-monserrat font-black text-5xl text-center",children:t}),Object(m.jsx)("h3",{className:"text-black font-monserrat text-center text-2x1 mb-5",children:"Llenar los siguientes datos"}),k&&Object(m.jsx)("p",{className:"w-full rounded p-4 text-center text-white font-roboto bg-red-600 select-none",children:"Un error ha ocurrido en la creacion del post"}),Object(m.jsx)("input",{type:"text",className:"w-full text-gray-700 bg-white focus:outline-none focus:ring focus:border-gray-600 p-3 rounded",placeholder:"titulo",value:o,onChange:function(e){return N(e,s)}}),Object(m.jsx)("input",{type:"text",className:"w-full h-32 text-gray-700 bg-white focus:outline-none focus:ring focus:border-gray-600 p-3 rounded",placeholder:"descripci\xf3n",value:d,onChange:function(e){return N(e,f)}}),Object(m.jsx)("input",{type:"text",className:"w-full text-gray-700 bg-white focus:outline-none focus:ring focus:border-gray-600 p-3 rounded",placeholder:"url de la imagen",value:h,onChange:function(e){return N(e,g)}}),Object(m.jsx)("button",{className:"mt-6 mx-40 transition rounded border border-primary duration-300 ease-in-out text-lg text-extrabold uppercase bg-primary hover:bg-primary-dark py-2 px-4 text-gray-100",children:"Post"})]})},A=function(e){var t=e.name,r=e.onSubmit;return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log("button: ejecutando onSubmit"),r()},children:Object(m.jsx)("button",{type:"submit",className:"transition rounded border border-primary duration-300 ease-in-out text-lg text-extrabold uppercase bg-primary hover:bg-primary-dark py-2 px-4 text-gray-100",children:t})})},E=function(e){var t=e.name,r=e.onSubmit;return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log("clic boton"),r()},children:Object(m.jsx)("button",{type:"submit",className:"transition rounded border border-primary duration-300 ease-in-out text-lg text-extrabold uppercase bg-primary hover:bg-primary-dark py-2 px-4 text-gray-100",children:t})})},T=function(e){var t=e.name,r=e._id,a=y().edits,c=Object(n.useState)(""),o=Object(l.a)(c,2),s=o[0],p=o[1],b=Object(n.useState)(""),d=Object(l.a)(b,2),f=d[0],x=d[1],j=Object(n.useState)(""),h=Object(l.a)(j,2),g=h[0],v=h[1],O=Object(n.useState)(!1),k=Object(l.a)(O,2),w=k[0],N=k[1],S=function(e,t){t(e.target.value)},C=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(s),console.log(f),console.log(g),e.next=6,a(s,f,g,r);case 6:n=e.sent,N(!n),p(""),x(""),v("");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:C,className:"flex flex-col rounded gap-y-5 p-6 py-7",children:[Object(m.jsx)("h4",{className:"text-black font-monserrat font-black text-4xl mb-5 text-center",children:t}),w&&Object(m.jsxs)("p",{className:"w-full rounded p-4 text-center text-white font-roboto bg-red-600 select-none",children:["Un error ha ocurrido al editar el post ",Object(m.jsx)("br",{})," Ning\xfan campo debe quedar vacio"]}),Object(m.jsx)("input",{type:"text",className:"font-semibold w-full text-gray-700 bg-white focus:outline-none focus:ring focus:border-gray-600 p-3 rounded",placeholder:"Edita el titulo",value:s,onChange:function(e){return S(e,p)}}),Object(m.jsx)("input",{type:"text",className:"font-semibold w-full text-gray-700 bg-white focus:outline-none focus:ring focus:border-gray-600 p-3 rounded",placeholder:"Edita la descripci\xf3n",value:f,onChange:function(e){return S(e,x)}}),Object(m.jsx)("input",{type:"text",className:"font-semibold w-full text-gray-700 bg-white focus:outline-none focus:ring focus:border-gray-600 p-3 rounded",placeholder:"Edita el url de la imagen",value:g,onChange:function(e){return S(e,v)}}),Object(m.jsx)("button",{className:"mt-6 mx-40 transition rounded border border-primary duration-300 ease-in-out text-lg text-extrabold uppercase bg-primary hover:bg-primary-dark py-2 px-4 text-gray-100",children:"Editar"})]})},B=function(e){var t=e.post,r=Object(n.useState)(""),a=Object(l.a)(r,2),c=a[0],o=a[1],s=Object(n.useState)(!1),p=Object(l.a)(s,2),b=(p[0],p[1]),d=y(),f=(d.edits,d.like),x=d.favorite,j=d.comment,h=d.activeApost,g=t.user,v=t._id,O=t.title,k=t.description,w=t.image,N=t.likes,S=t.comments,C=Object(n.useState)(N.length),P=Object(l.a)(C,2),B=P[0],z=P[1],_=Object(n.useState)(!1),F=Object(l.a)(_,2),D=F[0],M=F[1],I=function(){var e=Object(i.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(v),console.log(c),e.next=5,j(v,c);case 5:r=e.sent,b(!r),o("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"flex flex-col rounded gap-y-5 p-6 my-10 w-3/5 bg-secondary shadow-lg",children:[Object(m.jsx)("div",{className:"font-semibold w-auto h-auto text-gray-700 bg-secondary focus:outline-none focus:ring focus:border-gray-600 p-2 rounded",children:Object(m.jsx)("img",{src:w,alt:w})}),Object(m.jsx)("div",{className:"w-full h-auto text-gray-700 focus:outline-none px-3 ",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-3xl font-bold",children:O}),Object(m.jsxs)("p",{className:"font-semibold mb-2",children:["@",g.username]})]})}),Object(m.jsx)("div",{className:"w-full h-auto text-gray-700 bg-secondary focus:outline-none focus:ring focus:border-gray-600 pl-3 pb-3 rounded",children:k}),Object(m.jsxs)("div",{className:"flex md:flex-1 space-x-4 items-center justify-start mt-2",children:[Object(m.jsx)(A,{name:"Me gusta",type:"submit",onSubmit:function(){f(v),z(D?B-1:B+1),M(!D)}}),Object(m.jsxs)("p",{children:["Me gustas: ",B]}),Object(m.jsx)(A,{name:"Favorito",type:"submit",onSubmit:function(){x(v)}}),Object(m.jsx)(E,{name:"Ocultar",type:"submit",onSubmit:function(){h(v)}})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("form",{onSubmit:I,className:"flex flex-row rounded gap-y-5 p-3 py-2 w-full bg-blue-50 justify-start items-center",children:[Object(m.jsx)("input",{type:"text",className:"font-semibold w-full h-3/5 text-gray-700 bg-transparent focus:outline-none focus:ring focus:border-gray-600 p-3 rounded",placeholder:"Escribir comentario",value:c,onChange:function(e){return function(e,t){t(e.target.value)}(e,o)}}),Object(m.jsx)("button",{className:"transition rounded border border-primary duration-300 ease-in-out text-lg text-extrabold uppercase bg-primary hover:bg-primary-dark py-2 px-4 text-gray-100",children:"Comentar"})]}),Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"bg-white p-5",children:[Object(m.jsxs)("h5",{children:[S.length," comentarios"]}),Object(m.jsx)("div",{children:S.map((function(e){return Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsxs)("p",{className:"font-bold",children:[e.user.username,":"]}),Object(m.jsx)("p",{className:"px-1",children:e.description})]})}))})]})}),Object(m.jsx)("div",{children:Object(m.jsx)(T,{name:"Editar el post",_id:v})})]})},z=function(){var e=y().myPost,t=Object(n.useState)(0),r=Object(l.a)(t,2),a=r[0],c=r[1],o=Object(n.useState)(0),s=Object(l.a)(o,2),p=s[0],b=s[1],d=Object(n.useState)([]),f=Object(l.a)(d,2),x=f[0],j=f[1],h=Object(n.useState)(!1),g=Object(l.a)(h,2),v=g[0],O=g[1];Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(u.a.mark((function t(){var r,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(15,a);case 3:r=t.sent,n=r.data,c=r.pages,0==n.length?O(!0):(j(n),b(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[a]);return Object(m.jsxs)("div",{className:"flex flex-col justify-center items-center p-6",children:[Object(m.jsx)("h2",{className:"text-black font-monserrat font-black text-5xl text-center mt-10",children:"Mis Posts"}),v&&Object(m.jsx)("p",{className:"w-3/4 rounded p-4 text-center text-black font-roboto bg-blue-200 select-none",children:"No se encontr\xf3 ningun post"}),x.map((function(e){return Object(m.jsx)(B,{post:e},e._id)})),Object(m.jsxs)("div",{className:"flex flex-row justify-evenly items-center",children:[Object(m.jsx)(A,{name:"P\xe1gina anterior",type:"submit",onSubmit:function(){0!==a&&c((function(e){return e-1}))}}),Object(m.jsx)("div",{className:"mt-6 mx-40 transition rounded border border-secondary duration-300 ease-in-out text-lg text-extrabold uppercase bg-secondary hover:bg-secondary-dark py-2 px-4 text-gray-100",children:a}),Object(m.jsx)(A,{name:"P\xe1gina siguiente",type:"submit",onSubmit:function(){a+1<p&&c((function(e){return e+1}))}})]})]})};function _(){return Object(m.jsxs)("section",{className:"bg-gradient-to-bl from-pink-100 to-indigo-100",children:[Object(m.jsx)("header",{className:"flex flex-row justify-end items-center",children:Object(m.jsx)(C,{})}),Object(m.jsx)("div",{className:"flex flex-col justify-around items-center p-6",children:Object(m.jsx)(P,{name:"Crear un post"})}),Object(m.jsx)("div",{children:Object(m.jsx)(z,{})})]})}var F=function(){var e=y().allPost,t=Object(n.useState)(0),r=Object(l.a)(t,2),a=r[0],c=r[1],o=Object(n.useState)(0),s=Object(l.a)(o,2),p=s[0],b=s[1],d=Object(n.useState)([]),f=Object(l.a)(d,2),x=f[0],j=f[1],h=Object(n.useState)(!1),g=Object(l.a)(h,2),v=g[0],O=g[1];Object(n.useEffect)((function(){var t=function(){var t=Object(i.a)(u.a.mark((function t(){var r,n,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(10,a);case 3:r=t.sent,n=r.data,c=r.pages,0==n.length?O(!0):(j(n),b(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[a]);return Object(m.jsxs)("div",{className:"flex flex-col justify-center items-center p-6",children:[Object(m.jsx)("h2",{className:"uppercase text-black font-monserrat font-black text-4xl text-center mt-10",children:"Todos los post"}),v&&Object(m.jsx)("p",{className:"w-3/4 rounded p-4 text-center text-black font-roboto bg-blue-200 select-none",children:"No se encontr\xf3 ningun post"}),x.map((function(e){return Object(m.jsx)(B,{post:e},e._id)})),Object(m.jsxs)("div",{className:"flex flex-row justify-center items-center",children:[Object(m.jsx)(A,{name:"P\xe1gina anterior",type:"submit",onSubmit:function(){0!==a&&c((function(e){return e-1}))}}),Object(m.jsx)("div",{className:"mt-6 mx-40 transition rounded border border-pink-500 duration-300 ease-in-out text-lg text-extrabold uppercase bg-pink-500 hover:bg-pink-700 py-2 px-4 text-gray-100",children:a}),Object(m.jsx)(A,{name:"P\xe1gina siguiente",type:"submit",onSubmit:function(){a+1<p&&c((function(e){return e+1}))}})]})]})};function D(){return Object(m.jsxs)("section",{className:"bg-gradient-to-r from-indigo-600 via-gray-50 to-gray-50",children:[Object(m.jsx)("header",{className:"flex flex-row justify-end items-center bg-transparent",children:Object(m.jsx)(C,{})}),Object(m.jsx)("div",{children:Object(m.jsx)(F,{})})]})}var M=r(720),I=function(){var e=Object(p.g)();return Object(m.jsxs)("div",{className:"flex flex-col justify-center items-center w-screen h-screen bg-black",children:[Object(m.jsx)(M.a,{className:"text-8xl text-white m-4"}),Object(m.jsx)("h2",{className:"text-6xl font-roboto text-white text-center mb-6",children:"404"}),Object(m.jsx)("h3",{className:"text-xl font-roboto text-white text-center",children:"Page not found"}),Object(m.jsx)("p",{className:"text-lg font-roboto text-white text-center",children:"The page you are looking for doesn't exist or an other error occurred"}),Object(m.jsx)("button",{className:"font-roboto bg-gray-300 m-4 py-2 px-4 rounded",onClick:function(t){e("/login")},children:"Go to Login"})]})},G={admin:"/admin",user:"/user"},J=function(){var e,t=y().user;return t?Object(m.jsx)(p.a,{replace:!0,to:null!==(e=G[t.role])&&void 0!==e?e:"/"}):Object(m.jsx)("p",{children:" No se puede redireccionar "})},U=function(e){var t=e.role,r=void 0===t?"user":t,n=e.children,a=y(),c=a.token,o=a.user;return c?o&&o.role===r?n:Object(m.jsx)(p.a,{replace:!0,to:"/404"}):Object(m.jsx)(p.a,{replace:!0,to:"/login"})},L=r(14);r(717);var H=function(){return Object(m.jsx)(L.a,{children:Object(m.jsxs)(p.d,{children:[Object(m.jsx)(p.b,{path:"/login",element:Object(m.jsx)(k,{})}),Object(m.jsx)(p.b,{path:"/about",element:Object(m.jsx)(S,{})}),Object(m.jsx)(p.b,{path:"/redirect",element:Object(m.jsx)(J,{})}),Object(m.jsx)(p.b,{path:"/admin",element:Object(m.jsx)(U,{role:"admin",children:Object(m.jsx)(_,{})})}),Object(m.jsx)(p.b,{path:"/user",element:Object(m.jsxs)(U,{role:"user",children:[" ",Object(m.jsx)(D,{})," "]})}),Object(m.jsx)(p.b,{path:"*",element:Object(m.jsx)(I,{})})]})})},q=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,721)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(O,{children:Object(m.jsx)(H,{})})}),document.getElementById("root")),q()}},[[718,1,2]]]);
//# sourceMappingURL=main.531891bc.chunk.js.map